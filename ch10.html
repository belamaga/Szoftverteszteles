<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>10. fejezet - Adatb√°zisok tesztel√©se</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Szoftvertesztel√©s"><link rel="up" href="index.html" title="Szoftvertesztel√©s"><link rel="prev" href="ch09s02.html" title="9.2. Mantis"><link rel="next" href="ch10s02.html" title="10.2. TDD alap√∫ adatb√°zis fejleszt√©s"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10. fejezet - Adatb√°zisok tesztel√©se</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch09s02.html">El&#337;z&#337;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch10s02.html">K√∂vetkez&#337;</a></td></tr></table><hr></div><div class="chapter" title="10. fejezet - Adatb√°zisok tesztel√©se"><div class="titlepage"><div><div><h2 class="title"><a name="d0e5348"></a>10. fejezet - Adatb√°zisok tesztel√©se</h2></div></div></div><div class="sect1" title="10.1. Adatb√°zis tesztel√©s saj√°toss√°gai"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5351"></a>10.1. Adatb√°zis tesztel√©s saj√°toss√°gai</h2></div></div></div><p>Az adatb√°zis rendszer k√∂zponti eleme a perzisztens adatt√°rol√°son alapul√≥ szoftver rendszereknek. Az adatok rendszerint egy logikailag egys√©gesnek tekinthet&#337; adatb√°zisban
                t√°rol√≥dnak, ahol a perzisztencia mellett  sz√°mos tov√°bbi szolg√°ltat√°st is rendelkez√©sre √°ll. Az adatb√°zisban t√°rolt adatokat az adatb√°zis kezel&#337; rendszerek (DBMS) fel√ºgyelik, a DBMS 
                vez√©rli az adatb√°zishoz t√∂rt√©n&#337; kapcsol√≥d√°sokat √©s adatm&#369;veleteket. Az adatb√°zis rendszer  haszn√°lata a k√∂vetkez&#337; el&#337;ny√∂ket biztos√≠tja a felhaszn√°l√≥k, a kliens alkalmaz√°sok sz√°m√°ra:
                </p><div class="itemizedlist"><ul class="itemizedlist" type="'-'"><li class="listitem" style="list-style-type: '-'"><p>persziztencia</p></li><li class="listitem" style="list-style-type: '-'"><p>centraliz√°lts√°g</p></li><li class="listitem" style="list-style-type: '-'"><p>szab√°lyozott redundancia</p></li><li class="listitem" style="list-style-type: '-'"><p>integrit√°si elemek √©rv√©nyes√≠t√©se</p></li><li class="listitem" style="list-style-type: '-'"><p>mez&#337;szint&#369; adatkezel√©si f√ºggetlens√©g</p></li><li class="listitem" style="list-style-type: '-'"><p>adathozz√°f√©r√©s magas szint&#369; v√©delme</p></li><li class="listitem" style="list-style-type: '-'"><p>rugalmas s√©ma kialak√≠t√°s</p></li><li class="listitem" style="list-style-type: '-'"><p>m&#369;veleti elemek, elj√°r√°sok √©s f√ºggv√©nyek adatb√°zis objektumk√©nt t√∂rt√©n&#337; t√°rol√°sa √©s v√©grehajt√°sa</p></li><li class="listitem" style="list-style-type: '-'"><p>a statikus adatok mellett akt√≠v szab√°lyok t√°mogat√°sa</p></li><li class="listitem" style="list-style-type: '-'"><p>hat√©kony adatkezel√©st t√°mogat√≥ v√©grehajt√≥ motor alkalmaz√°sa</p></li><li class="listitem" style="list-style-type: '-'"><p>konkurens hozz√°f√©r√©sek szinkroniz√°lt  v√©grehajt√°sa</p></li></ul></div><p>
                  Mint l√°that√≥, az adatb√°zis rendszerek t√∂bb modult foglalnak magukba, hiszen tartalmaznak adatt√°rol√≥ funkci√≥kat, er&#337;forr√°s menedzsel&#337; funkci√≥kat √©s programk√≥d v√©grehajt√≥ funkci√≥kat
                  is egy egys√©gben. Emiatt szok√°s az adatb√°zisok tesztel√©s√©t √∂szetettebb feladatnak tekinteni, mely a m√°r megismert  szoftver tesztel√©si mechanizmusok integr√°l√°s√°ra √©p√ºl.
                </p><p>
                    Az adatb√°zis tesztel√©se azonban legal√°bb ugyanolyan fontos l√©p√©s a szoftverrendszerek fejleszt√©se sor√°n, mint az alkalmaz√°sok  k√≥dj√°nak tesztel√©se, hiszen az adatb√°zis jelenti 
                    az alkalmaz√°sok inform√°ci√≥  forr√°s√°t. Ezen f√ºgg&#337;s√©g miatt a rossz adatb√°zis m&#369;k√∂d√©s kihat az eg√©sz alkalmaz√°sra. Mivel a fejleszt√©s sor√°n az alkalmaz√°si k√≥d az adatb√°zis s√©m√°ra
                    √©p√ºl, ez√©rt a s√©ma m√≥dos√≠t√°s k√∂lts√©ge nagys√°grenddel nagyobb √©rt√©k&#369;, mint a k√≥d jav√≠t√°s√°nak k√∂lts√©ge. Egy 1990-es Oracle felm√©r√©s  szerint  az al√°bbi k√∂lts√©gvonzattal 
                    b√≠rnak az egyes hibat√≠pusok:</p><table border="0" summary="Simple list" class="simplelist"><tr><td>hib√°s hardver relat√≠v k√∂lts√©ge:  15% √©s relat√≠v gyakoris√°ga:  3%</td></tr><tr><td>hib√°san m&#369;k√∂d&#337; OS relat√≠v k√∂lts√©ge: 15% √©s relat√≠v gyakoris√°ga:  5%</td></tr><tr><td>hib√°san m&#369;k√∂d&#337; DBMS relat√≠v k√∂lts√©ge: 10% √©s relat√≠v gyakoris√°ga: 5%</td></tr><tr><td>hib√°s adatb√°zis s√©ma relat√≠v k√∂lts√©ge:  45% √©s relat√≠v gyakoris√°ga: 15%</td></tr><tr><td>hib√°san m&#369;k√∂d&#337; alkalmaz√°si program relat√≠v k√∂lts√©ge: 15% √©s relat√≠v gyakoris√°ga:  72%</td></tr></table><p>
                    Az alkalmaz√°s szempontj√°b√≥l alapvet&#337; fontoss√°g√∫ teh√°t, hogy olyan adatb√°zis val√≥suljon meg, amely helyesen  √©s hat√©konyan m&#369;k√∂dik, s lehet&#337;v√© teszi a s√©ma rugalmas √©s 
                    biztons√°gos m√≥dos√≠t√°s√°t.  Az adatb√°zis tesztel√©s √∂sszetetts√©g√©t j√≥l jellemzi az a t√©ny, hogy ilyenkor nem puszt√°n az adatb√°zis saj√°t bels&#337; min&#337;s√©g√©t kell vizsg√°lni, hanem a 
                    r√° √©p√ºl&#337; alkalmaz√°sok m&#369;k√∂d√©s√©t is. Az alkalmaz√°sok ugyanis f√ºgg&#337; kapcsolatban √°llnak az adatb√°zissal. Az adatb√°zis tesztel√©s√©n√©l √°tt√©telesen az alkalmaz√°sok tesztel√©s√©t 
                    is √©rint&#337; elemeket is v√©gre kell hajtani.
                </p><p>A fenti ig√©nyeknek megfelel&#337;en az adatb√°zisok vonatkoz√°s√°ban t√∂bbf√©le teszt v√©grehajt√°s√°ra is sz√ºks√©g lehet.  Az adatb√°zis tesztel√©snek is alapvet&#337;en k√©tf√©le m√≥dja lehet: 
                fekete doboz (black box) vagy √°tl√°tsz√≥ doboz   (clear box)  megk√∂zel√≠t√©s. A black box m√≥d eset√©n nem foglalkozunk az adatb√°zis bels&#337; objektumaival, csak az adatb√°zisb√≥l 
                kinyert  adat √©rt√©keket vizsg√°ljuk, azaz azt tesztelj√ºk egy megadott k√©rd√©sre az elv√°rt v√°lasz j√∂n-e vagy sem. Ez ugyan egyszer&#369;bb tesztel√©si eszk√∂z√∂ket √©s ismeretek k√≠v√°n, viszont 
                rendszerint nagyobb id&#337;k√∂lts√©ggel j√°r √©s kevesebb bels&#337; r√©szlet fedhet&#337; le vele. Ennek oka, hogy  a tesztesetek nem fedik le a teljes √°llapotteret, √∂szetettt bemen&#337; adatok eset√©n 
                nem t√©r ki a teszt minden lehets√©ges esetre.  A clear box megk√∂zel√≠t√©sben az adatb√°zis objektumok k√≥dj√°t  is el√©rj√ºk √©s azok k√≥dj√°n hajt√≥dnak v√©gre a tesztek. Mivel ekkor az egyes 
                egys√©gek tesztel√©s√©n√©l jelent&#337;sen kisebb  √°llapott√©rrel lehet dolgozni, nagyobb az es√©lye, hogy  lefedettebb lesz a tesztel√©s is. Ezen m√≥dszer viszont az egyes objektumok 
                k√≥dol√°snak √©s m&#369;k√∂d√©s√©nek alapos ismeret√©t ig√©nyli.
                </p><p>Az adatb√°zis tesztel√©s m√°sik megk√∂zel√≠t√©s m√≥dja az  adatkezel√©si ig√©nyek oldal√°r√≥l  modulariz√°lja  a tesztel√©s folyamat√°t, azaz ekkor az egyes krit√©riumok  teljes√ºl√©s√©t
                ellen&#337;rizz√ºk, egy tesztben rendszerint egy szempontra figyelve. E m√≥dszer f&#337; el&#337;nye, hogy c√©l specifikus tesztel√©si eszk√∂z√∂k √©s m√≥dszertanok alkalmazhat√≥k √©s seg√≠ts√©g√©vel j√≥val 
                nagyobb lefedetts√©g √©rhet&#337; el. Az adatb√°zisokn√°l az al√°bbi tesztel√©si ter√ºletek k√ºl√∂n√≠thet&#337;k el:
                    </p><div class="variablelist"><dl><dt><span class="term">Adatb√°zis s√©ma teszt (Schema test)</span></dt><dd><p>A s√©ma ellen&#337;rz√©s√©nek f&#337; c√©lja kider√≠teni, hogy a s√©m√°ban minden ig√©nyelt inform√°ci√≥elem benne van-e √©s az egyes elemek egy√©rtelm&#369;en 
                                azonos√≠that√≥k-e. A s√©matervez√©se sor√°n hib√°t okoz, ha kimaradnak egyes adatelemek vagy egy adatelemet t√∂bbf√©le √©rtelmez√©sben is felhaszn√°lnak. A s√©ma v√°ltoz√°s√°t k√∂vet&#337;en 
                                szok√°s tesztelni, hogy nem ker√ºltek-e ki v√©letlen√ºl olyan elemek, melyekre m√©g √©lnek a hivatkoz√°sok az alkalmaz√°sokban. 
                            </p></dd><dt><span class="term">Funkcionalit√°si teszt (Feature test)</span></dt><dd><p>A funkcionalit√°s tesztn√©l els&#337;sorban az adatb√°zisban t√°rolt elj√°r√°sok, akt√≠v elemek viselked√©s√©t tesztelik. Ennek sor√°n ellen&#337;rizni kell, hogy a 
                                minden √ºzleti funkci√≥hoz l√©tezik-e akt√≠v elem √©s a megh√≠vott 
                            modulok a helyes eredm√©nyt adj√°k-e √©s nem okoznak-e nem tervezett mell√©khat√°sokat. A funkcionalit√°si teszt  mechanizmusa √°ll legk√∂zelebb a hagyom√°nyos programoz√°si nyelvek 
                            tesztel√©si m√≥dszertan√°hoz, hiszen itt is k√≥degys√©geket kell tesztelni.</p></dd><dt><span class="term">Adatintegrit√°si teszt (Integrity test)</span></dt><dd><p>Az adatok integrit√°si tesztj√©ben ellen&#337;rizni kell, hogy a megadott integrit√°si felt√©telek megfelelnek-e az √ºzleti modellben megadott szab√°lyoknak √©s 
                                ezen szab√°lyok val√≥ban √©rv√©nyes√ºlnek-e., Adatb√°zis szinten  az integrit√°si elemek k√∂z√© tartoznak a  PRMARY KEY felt√©telek, az egyed hivatkoz√°si szab√°lyok, a NOT NULL , UNIQUE  √©s CHECK megk√∂t√©sek  valamint a
                            DEFAULT opci√≥k. </p></dd><dt><span class="term">V√©delmi teszt (Security test)</span></dt><dd><p>A v√©delmi teszt sor√°n vizsg√°lni kell, hogy az egyes adatokhoz val√≥ hozz√°f√©r√©s megfelel-e az √ºzleti szab√°lyoknak √©s az adatb√°zisban defini√°lt v√©delmi elemek 
                            megfelel&#337;en m&#369;k√∂dnek-e.</p></dd><dt><span class="term">Terhel√©si teszt (Load test)</span></dt><dd><p>A terhel√©si teszt sor√°n ellen&#337;rz√©sre ker√ºl, hogy az adatb√°zis tervezett architekt√∫r√°ja teljes√≠teni tudja-e a terhel√©sre vonatkoz√≥ elv√°r√°sokat. A terhel√©si teszt sor√°n 
                            a megadott adatmennyis√©g bet√∂lt√©s√©t, ment√©s√©t ellen&#337;rzik, illetve megn√©zik a megadott sz√°m√∫ konkurrens k√©r√©s feldolgoz√°sa az elv√°rt v√°laszid&#337;n bel√ºl lefut-e.</p></dd><dt><span class="term">Hat√©konys√°gi teszt (Query cost test)</span></dt><dd><p>A teljes√≠tm√©ny teszt c√©lja a v√°laszid&#337;k ellen&#337;rz√©se a  fontosabb √©s gyakoribb lek√©rdez√©sek eset√©n. Mivel a lek√©rdez√©si hat√©konys√°g jav√≠t√°sa, a m&#369;velet optimaliz√°l√°s
                                √∂sszetett adatb√°zis m√≥dos√≠t√°sokat ig√©nyelhet. 
                            </p></dd></dl></div><p>                    
                
         </p><p>  A tesztel√©s egy tov√°bbi oszt√°lyoz√°si alternat√≠v√°ja a tipikus adatb√°zis fejleszt√©si √©s karbantart√°si m&#369;veletekhez k√∂t&#337;d&#337; tev√©kenys√©gek szerinti csoportos√≠t√°s. Az adatb√°zis √©let√©ben
                    t√∂bbsz√∂r is el&#337;fordulhat, hogy  olyan v√°ltoz√°sok  k√∂vetkeznek be, melyek az adatb√°zis √∫jb√≥li tesztel√©st ig√©nyli. A fontosabb  tev√©kenys√©g csoportok:
                    </p><div class="variablelist"><dl><dt><span class="term">⁄j inform√°ci√≥ elem tesztel√©se</span></dt><dd><p>Az egyik leggyakoribb tesztel√©si feladat az √∫j inform√°ci√≥ elemek bevitel√©hez illetve a l√©tez&#337; inform√°ci√≥ elemek √°trendez√©s√©hez kapcsol√≥dik. 
                            Mivel az  adatb√°zis egy hosszabb id&#337;re sz√≥l√≥ adatstrukt√∫r√°t jelent, haszn√°lata sor√°n az √ºzleti modell nagy val√≥sz√≠n&#369;s√©ggel megv√°ltozik. A v√°ltoz√°s jelentheti 
                            √∫j ig√©nyek megjelen√©s√©t, ig√©nyek m√≥dosul√°s√°t √©s megsz&#369;n√©s√©t.  Mindegyik esetben az adatb√°zis s√©ma is megv√°ltozik. A s√©ma m√≥dosul√°sakor a tesztek az √∫j, m√≥dosult 
                            elemre vonatkoz√≥ teszteket jelentenek. Ezen egyedi tesztek kidolgoz√°sa az egyszer&#369;bb feladatok k√∂z√© tartozik, hiszen lokaliz√°ltabb a vizsg√°land√≥ ter√ºlet,
                            j√≥l k√∂r√ºlhat√°rolhat√≥ ez √©rintett adatelemek k√∂re.</p></dd><dt><span class="term">Regresszi√≥s teszt v√°ltoz√°s ut√°n</span></dt><dd><p>A regresszi√≥s teszt a kor√°bban m√°r ellen&#337;rz√∂tt tesztek ism√©telt lefuttat√°s√°t jelenti. Mivel egy adatb√°zis elem v√°ltoz√°sa kihathat a t√∂bbi adatb√°zis elemre, ez√©rt a 
                            m√≥dos√≠t√°s ut√°n c√©lszer&#369; ellen&#337;rizni, hogy nem okozott-e s√©r√ºl√©st a m√≥dos√≠t√°s a kor√°bban m√°r m&#369;k√∂d&#337; funkci√≥k tekintet√©ben. </p></dd><dt><span class="term">Telep√≠tl√©si teszt</span></dt><dd><p>A s√©m√°ba vagy a funkcionalit√°si list√°ba ker√ºl&#337; √∫j elemekn√©l ellen&#337;rizni kell, hogy azok megfelelnek-e a tervekben szerepl&#337; el&#337;√≠r√°soknak, k√∂vetelm√©nyeknek.
                            A telep√≠t√©si tesztel√©s sor√°n √∫j tesztelemek ker√ºlnek  kipr√≥b√°l√°sra.</p></dd><dt><span class="term">⁄j fizikai elem tesztel√©se</span></dt><dd><p>Az adatb√°zis fejleszt√©s optimaliz√°l√°si, √∫j architekt√∫ra kialak√≠t√°si f√°zisaiban a logikai r√©teg nem v√°ltozik, de alatta √∫j fizikai r√©teg ker√ºl kialak√≠t√°sra. A
                            fizikai r√©tegben a megv√°ltozott  szerkezet megv√°ltozott teljes√≠tm√©nyt fog mutatni, ezen tesztek c√©lja az elv√°rt teljes√≠tm√©ny mutat√≥k ellen&#337;rz√©se.</p></dd></dl></div><p>
                
         </p><p>Az adatb√°zisok tesztel√©se fontos feladat, m√©gis kev√©sb√© terjedt el a gyakorlatban, ritk√°bban fordul el&#337;, mint a hagyom√°nyos program tesztel√©s. Ennek sz√°mos oka van, 
       melyek k√∂z√ºl kiemelhet&#337;k az al√°bbi t√©nyez&#337;k:
   </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>hi√°nyz√≥ szakmai ismeretek a tesztel√©ssel kapcsolatban az adatb√°ziskezel&#337; szakemberekn√©l</p></li><li class="listitem"><p>nagyobb k√∂lts√©gvonzat</p></li><li class="listitem"><p>kevesebb t√°mogat√≥ eszk√∂z √°ll rendelkez√©sre</p></li></ul></div><p>
        
         </p><p>A min&#337;s√©gi szoftverfejleszt√©s ig√©nye val√≥sz√≠n&#369;leg mag√°val hozza a tesztel√©s szerep√©nek nagyobb elismer√©s√©t az adatb√°zis vil√°gban is. A k√∂vetkez&#337; fejezetekben a  tesztel√©s orient√°lt adatb√°zis fejleszt√©s alapelveit mutatjuk be.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch09s02.html">El&#337;z&#337;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch10s02.html">K√∂vetkez&#337;</a></td></tr><tr><td width="40%" align="left" valign="top">9.2. Mantis&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Tartalom</a></td><td width="40%" align="right" valign="top">&nbsp;10.2. TDD alap√∫ adatb√°zis fejleszt√©s</td></tr></table></div></body></html>