<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>6. fejezet - Biztons√°gi tesztel√©s</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Szoftvertesztel√©s"><link rel="up" href="index.html" title="Szoftvertesztel√©s"><link rel="prev" href="ch05s03.html" title="5.3. User Acceptance Testing (UAT)"><link rel="next" href="ch06s02.html" title="6.2. Adatszerkezet t√°mad√°s - Bin√°ris forr√°s f√°jl t√∫lt√∂lt√©se"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. fejezet - Biztons√°gi tesztel√©s</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s03.html">El&#337;z&#337;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch06s02.html">K√∂vetkez&#337;</a></td></tr></table><hr></div><div class="chapter" title="6. fejezet - Biztons√°gi tesztel√©s"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2983"></a>6. fejezet - Biztons√°gi tesztel√©s</h2></div></div></div><p>Ez a fejezet √°ttekinti a biztons√°gi t√°mad√°sok leggyakoribb t√≠pusait. Az itt le√≠rt biztons√°gi t√°mad√°sok a <a class="ulink" href="http://www.owasp.org/" target="_top">www.owasp.org</a> oldalon tal√°lhat√≥ szabad cikkek ford√≠t√°sai.</p><p>A t√°mad√°sok azok a technol√≥gi√°k, amiket a t√°mad√≥k haszn√°lnak, hogy kihaszn√°lj√°k az alkalmaz√°sok sebezhet&#337; pontjait. A t√°mad√°sokat gyakran t√©vesztik √∂ssze a sebezhet&#337; pontokkal. Egy t√°mad√°s le√≠r√°sa azt mondja el, hogy mit tenne a t√°mad√≥ a gyenges√©g kihaszn√°l√°s√°ra, nem pedig az alkalmaz√°s gyenge pontjait ismerteti. </p><p>Ebben a fejezetben a legfontosabb biztons√°gi t√°mad√°sokat ismertetj√ºk, hogy a tesztel√©s sor√°n tudjuk, minek lesz kit√©ve az alkalmaz√°sunk. Ha ismerj√ºk a biztons√°gi t√°mad√°sokat, akkor a tesztek sor√°n kipr√≥b√°lhatjuk, hogy alkalmaz√°sunk ellen √°ll-e a t√°mad√°snak. Ha igen, akkor a kiadott szoftver√ºnk kisebb kock√°zatot jelent a haszn√°l√≥j√°nak √©s √≠gy nagyobb √©rt√©ket k√©pvisel. A t√°mad√°s ellen√°ll√≥s√°g egyr√©szt verseny el&#337;ny, m√°sr√©szt az elk√©rhet&#337; magasabb √°r fedezi a tesztel√©s extra k√∂lts√©geit. Az extra k√∂lts√©gek a magasan k√©pzett tesztel&#337;k magasabb munkad√≠j√°b√≥l √©s a t√°mad√°s ellen√°ll√≥s√°g tesztel√©s√©nek viszonylag id&#337;ig√©nyes volta jelenti. Ugyanakkor a t√°mad√°s ellen√°ll√≥s√°g vizsg√°lat√°hoz nem el√©g csak a legfontosabb t√°mad√°sokat ismerni, hiszen √∫jabb √©s √∫jabb t√°mad√°si m√≥dszereket fejlesztenek ki az IT rendszerek felt√∂r√©s√©re specializ√°l√≥dott hacker-ek.</p><p>A t√°mad√°s ellen√°ll√≥s√°g tesztel√©se √°ltal√°ban feketedobozos teszt. T√∂rt√©nhet a rendszer kiad√°sa el&#337;tt vagy ut√°n is. Ha ut√°na t√∂rt√©nik, akkor √°ltal√°ban etikus t√∂r√©si k√≠s√©rletr&#337;l besz√©l√ºnk. Ehhez √°ltal√°ban k√ºls&#337; szakembereket, feh√©r kalapos hacker-eket szoktak felk√©rni. Ha a kiad√°s el&#337;tt t√∂rt√©nik, akkor √°ltal√°ban a legmagasabban k√©pzett bels&#337; tesztm√©rn√∂k√∂k feladata. Ez a fejezet nekik sz√≥l, de a sz√ºks√©ges ismereteknek csak egy r√©sz√©t tartalmazza.</p><p></p><p>A biztons√°gi t√°mad√°sok legfontosabb t√≠pusai (t√°mad√°s fajt√°i &#8211; konkr√©t t√°mad√°sok):</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>&#8222;M&#369;k√∂d√©s ellehetetlen√≠t√©se &#8211; Cache M√©rgez√©s&#8221; (Abuse of Functionality - Cache Poisoning )</p></li></ol></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>(Data Structure Attacks - Overflow Binary Resource f√°jl )</p></li><li class="listitem"><p>&#8222;√°rtalmas k√≥d be√°gyaz√°sa &#8211; logikai/id&#337;z√≠tett bomba (Embeeded Malicious Code - Logic/time bomb)</p></li><li class="listitem"><p>&#8222;Tr√≥jai&#8221; (Troyan Horse)</p></li><li class="listitem"><p>&#8222;Azonos√≠t√°si folyamat kihaszn√°l√°sa &#8211; Account kiz√°r√°si t√°mad√°s&#8221; (Exploitation of Authentication - Account lockout attack)</p></li><li class="listitem"><p>&#8222;Befecskendez√©s &#8211; K√∂zvetlen statikus k√≥d befecskendez√©se&#8221; (Injection - Direct Static Code Injection)</p></li><li class="listitem"><p>&#8222;⁄tkeresztez√©si t√°mad√°s&#8221; (Path Traversal Attack)</p></li><li class="listitem"><p>&#8222;Pr√≥b√°lgat√≥s technol√≥gi√°k &#8211; nyers er&#337; t√°mad√°s&#8221; (Probabilistic Techniques - Brute force attack)</p></li><li class="listitem"><p>&#8222;Protokol manipul√°ci√≥ &#8211; http v√°lasz sz√©tv√°laszt√°s&#8221; (Protocol Manipulation - Http Response Splitting)</p></li><li class="listitem"><p>&#8222;Forr√°s kimer√≠t√©s &#8211; aszimmetrikus er&#337;forr√°sok elfogyaszt√°sa (er&#337;s√≠t√©s)&#8221; (Resource Depletion - Asymmetric resource consumption (amplification))</p></li><li class="listitem"><p>&#8222;Er&#337;forr√°s manipul√°ci√≥ &#8211; k√©mprogram&#8221; (Resource Manipulation &#8211; Spyware)</p></li><li class="listitem"><p>&#8222;Szimatol√≥ t√°mad√°s &#8211; H√°l√≥zati lehallgat√°s&#8221; (Sniffing Attacks - Network Eavesdropping)</p></li><li class="listitem"><p>&#8222;√°tver√©s &#8211; oldalakon kereszt√ºli k√©relem hamis√≠t√°s (CSRF)&#8221; (Spoofing - Cross-Site Request Forgery (CSRF))</p></li></ol></div><p></p><div class="sect1" title="6.1. M&#369;k√∂d√©s ellehetetlen√≠t√©se &#8211; Cache M√©rgez√©s"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3042"></a>6.1. 
      
            <a name="_Toc291181636"></a>M&#369;k√∂d√©s ellehetetlen√≠t√©se &#8211; Cache M√©rgez√©s</h2></div></div></div><p>
      
            <a name="Description"></a>Le√≠r√°s</p><p>A k√°rosan fel√©p√≠tett v√°lasz hat√°sa f√∂lnagy√≠that√≥, ha egy t√∂bb felhaszn√°l√≥ √°ltal haszn√°lt web cache t√°rolja vagy ak√°r egyetlen egy felhaszn√°l√≥ b√∂ng√©sz&#337; cache-e. Ha egy v√°laszt egy megosztott web cache-ben t√°rolnak, mint p√©ld√°ul amik legt√∂bbsz√∂r tal√°lhat√≥ak a proxy szerverekben, akkor a cache minden haszn√°l√≥ja mindaddig a k√°ros tartalmat fogja kapni, am√≠g a cache bejegyz√©st ki nem tiszt√≠tott√°k. Ehhez hasonl√≥an, ha a v√°laszt egy egy√©ni felhaszn√°l√≥ b√∂ng√©sz&#337;je cache-eli (t√°rolja), akkor az a felhaszn√°l√≥ mindaddig a k√°ros tartalmat fogja kapni, am√≠g a cache bejegyz√©st meg nem tiszt√≠tott√°k, ebben az esetben csak a helyi b√∂ng√©sz&#337; m√°solata lesz √©rintve.</p><p>Hogy egy ilyen t√°mad√°s sikeres legyen, a t√°mad√≥nak a k√∂vetkez&#337;ket kell tennie:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Megtal√°lni a sebezhet&#337; service k√≥dot, amin kereszt√ºl t√∂bb fejl√©ccel terhelheti meg a http fejl√©c mez&#337;j√©t.</p></li><li class="listitem"><p>R√°k√©nyszer√≠teni a cache szervert, hogy flush-olja az aktu√°lis cache tartalmat, amit szeretn√©nk, hogy cache-eljen a szerver.</p></li><li class="listitem"><p>K√ºldeni egy speci√°lisan elk√©sz√≠tett k√©relmet, amit a cache t√°rolni fog.</p></li><li class="listitem"><p>K√ºldeni a k√∂vetkez&#337; k√©relmet. A kor√°bban befecskendezett, a cache-ben elt√°rolt tartalom lesz a v√°lasz erre a k√©relemre.</p></li></ol></div><p>Ez a fajta t√°mad√°s meglehet&#337;sen nehezen kivitelezhet&#337; val√≥s k√∂rnyezetben. A sz√ºks√©ges felt√©telek list√°ja hossz√∫ √©s nehezen teljes√≠thet&#337; a t√°mad√≥ √°ltal. Ennek ellen√©re m√©g mindig egyszer&#369;bb ezt a technik√°t haszn√°lni, mint a Felhaszn√°l√≥k K√∂z√∂tti Elcs√∫f√≠t√°st (<a class="ulink" href="http://www.owasp.org/index.php/Cross-User_Defacement" target="_top">Cross-User Defacement</a>).</p><p>A Cache M√©rgez√©s t√°mad√°s a HTTP V√°lasz Sz√©tv√°laszt√°s (<a class="ulink" href="http://www.owasp.org/index.php/HTTP_Response_Splitting" target="_top">HTTP Response Splitting</a>) √©s a h√°l√≥zati alkalmaz√°s hib√°i miatt lehets√©ges. A t√°mad√≥ szempontj√°b√≥l l√©tfontoss√°g√∫, hogy az alkalmaz√°s enged√©lyezze a fejl√©c mez&#337; felt√∂lt√©s√©t t√∂bb fejl√©ccel a Kocsi Visszat√©r√©s (CR (Carrige Return)) √©s a Sor Bet√°pl√°l√°sa (LF (Line Feed)) karaktereket haszn√°lva.</p><p>P√©lda:</p><p>Tal√°ltunk egy weblapot, ami a szolg√°ltat√°si nev√©t a &#8222;page&#8221; argumentumt√≥l kapja, azt√°n visszair√°ny√≠t (302) ehhez a kiszolg√°l√≥hoz.</p><p>pl.: <a class="ulink" href="http://testsite.com/redir.php?page=http://other.testsite.com/" target="_top">http://testsite.com/redir.php?page=http://other.testsite.com/</a>
   
         </p><p>A redir.php p√©lda k√≥dja:</p><pre class="programlisting">
   rezos@dojo ~/public_html $ cat redir.php
   &lt;?php
     header ("Location: " . $_GET['page']);
   ?&gt;
</pre><p>A megfelel&#337; k√©relem elk√©sz√≠t√©se: [1]</p><p>1 &#8211; a lap elt√°vol√≠t√°sa a cache-b&#337;l</p><pre class="programlisting">
   GET http://testsite.com/index.html HTTP/1.1
   Pragma: no-cache
   Host: testsite.com
   User-Agent: Mozilla/4.7 [en] (WinNT; I)
   Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
   image/png, */*
   Accept-Encoding: gzip
   Accept-Language: en
   Accept-Charset: iso-8859-1,*,utf-8
        </pre><p>A HTTP fejl√©c mez&#337;k - "Pragma: no-cache" vagy "Cache-Control: no-cache" &#8211; elt√°vol√≠tj√°k a lapot a cache-b&#337;l (m√°r ha t√°rolva volt benne term√©szetesen).</p><p>2 &#8211; a HTTP V√°lasz Sz√©tv√°laszt√°st haszn√°lva arra k√©nyszer√≠tj√ºk a cache szervert, hogy k√©t v√°laszt gener√°ljon egy k√©relemre.</p><pre class="programlisting">
  GET http://testsite.com/redir.php?site=%0d%0aContent-
  Length:%200%0d%0a%0d%0aHTTP/1.1%20200%20OK%0d%0aLast-
  Modified:%20Mon,%2027%20Oct%202009%2014:50:18%20GMT%0d%0aConte
  nt-Length:%2020%0d%0aContent-
  Type:%20text/html%0d%0a%0d%0a&lt;html&gt;deface!&lt;/html&gt; HTTP/1.1
  Host: testsite.com
  User-Agent: Mozilla/4.7 [en] (WinNT; I)
  Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
  image/png, */*
  Accept-Encoding: gzip
  Accept-Language: en
  Accept-Charset: iso-8859-1,*,utf-8
         </pre><p>Sz√°nd√©kosan √°ll√≠tjuk be a j√∂v&#337; id&#337;t (a fejl√©cben 2009. okt√≥ber 27-re van √°ll√≠tva) a m√°sodik v√°lasz HTTP fejl√©c &#8222;Last-Modified&#8221; mez&#337;j√©ben, hogy t√°roljuk a v√°laszt a cache-ben.</p><p>Ezt a hat√°st megkaphatjuk a k√∂vetkez&#337; fejl√©cek be√°ll√≠t√°s√°val:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Last-Modified [Utolj√°ra-M√≥dos√≠tva] (Az &#8222;If-Modified-Since&#8221; fejl√©c ellen&#337;rzi)</p></li><li class="listitem"><p>ETag (Az &#8222;If-None-Match&#8221; fejl√©c ellen&#337;rzi)</p></li></ol></div><p></p><p>3 &#8211; k√ºldj√ºnk k√©relmet a lapnak, amit szeretn√©nk kicser√©lni a szerver cache-√©ben</p><pre class="programlisting">
   GET http://testsite.com/index.html HTTP/1.1
   Host: testsite.com
   User-Agent: Mozilla/4.7 [en] (WinNT; I)
   Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
   image/png, */*
   Accept-Encoding: gzip
   Accept-Language: en
   Accept-Charset: iso-8859-1,*,utf-8
         </pre><p>Elm√©letben a cache szervernek √∂ssze kellene p√°ros√≠tania a m√°sodik v√°laszt a kettes k√©relemb&#337;l a h√°rmas k√©relemmel. √≠gy kicser√©lt√ºk a cache tartalm√°t.</p><p>A k√©relem marad√©k√©t egyetlen kapcsolat alatt kivitelezni lehet (hacsak a cache szerver nem ig√©nyli kifinomultabb m√≥dszer haszn√°lat√°t), val√≥sz√≠n&#369;leg az egyiket azonnal a m√°sik ut√°n.</p><p>Ennek a t√°mad√°snak a haszn√°lata probl√©m√°snak t&#369;nhet, ha √°ltal√°nos Cache M√©rgez√©si megold√°sk√©nt szeretn√©nk haszn√°lni. Ez a cache szerverek k√ºl√∂nb√∂z&#337; kapcsolati modellje √©s k√©relem feldolgoz√°si megold√°sa miatt van √≠gy. Mit jelent ez? P√©ld√°ul azt, hogy az a m√≥dszer, amivel az Apache 2.x cache-√©t a mod_proxy √©s mod_cache modulokkal hat√©konyan tudjuk m√©rgezni, nem fog m&#369;k√∂dni a Squid eset√©ben.</p><p>Egy m√°sik probl√©ma az URI hossza, ami id&#337;nk√©nt lehetetlenn√© teszi, hogy betegy√ºk a sz√ºks√©ges v√°lasz fejl√©cet, amit legk√∂zelebb a k√©relemhez kellene p√°ros√≠tani a megm√©rgezett laphoz.</p><p>Az felhaszn√°lt k√©relem p√©ld√°k az al√°bbi linken[1] tal√°lhat√≥ dokumentumb√≥l sz√°rmaznak √©s a cikk sz√ºks√©gleteinek megfelel&#337;en lettek m√≥dos√≠tva.</p><p>Az al√°bbi dokumentumban b&#337;vebben olvashat ezekr&#337;l a t√°mad√°si fajt√°kr√≥l: [1]<a class="ulink" href="http://packetstormsecurity.org/papers/general/whitepaper_httpresponse.pdf" target="_top">http://packetstormsecurity.org/papers/general/whitepaper_httpresponse.pdf</a>, k√©sz√≠tette: Amit Klein, Director of Security and Research</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s03.html">El&#337;z&#337;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch06s02.html">K√∂vetkez&#337;</a></td></tr><tr><td width="40%" align="left" valign="top">5.3. 
                                                         
            User Acceptance Testing (UAT)&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Tartalom</a></td><td width="40%" align="right" valign="top">&nbsp;6.2. 
     Adatszerkezet t√°mad√°s - Bin√°ris forr√°s f√°jl t√∫lt√∂lt√©se</td></tr></table></div></body></html>