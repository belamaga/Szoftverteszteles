<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>10.4. Adatb√°zis tesztel√©si seg√©dprogramok</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Szoftvertesztel√©s"><link rel="up" href="ch10.html" title="10. fejezet - Adatb√°zisok tesztel√©se"><link rel="prev" href="ch10s03.html" title="10.3. Adatb√°zis √∫jratervez√©s folyamata"><link rel="next" href="ch10s05.html" title="10.5. K√©rd√©sek"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.4. Adatb√°zis tesztel√©si seg√©dprogramok</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10s03.html">El&#337;z&#337;</a>&nbsp;</td><th width="60%" align="center">10. fejezet - Adatb√°zisok tesztel√©se</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch10s05.html">K√∂vetkez&#337;</a></td></tr></table><hr></div><div class="sect1" title="10.4. Adatb√°zis tesztel√©si seg√©dprogramok"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5998"></a>10.4. Adatb√°zis tesztel√©si seg√©dprogramok</h2></div></div></div><div class="sect2" title="10.4.1. DBUnit tesztk√∂rnyezet haszn√°lata"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6001"></a>10.4.1. DBUnit tesztk√∂rnyezet haszn√°lata</h3></div></div></div><p>A DBUnit rendszer az elterjedt JUnit tesztrendszerre √©p√ºl&#337; adatb√°zis m&#369;veletek tesztel√©s√©re alkalmas ingyenes  keretrendszer. A DBUnit 
                    rendszer a tesztel√©sben els&#337;dlegesen arra haszn√°lhat√≥, hogy seg√≠ts√©g√©vel az adatb√°zist, annak tartalm√°t egy megadott √°llapotba hozzuk. Ez√°ltal 
                    biztos√≠that√≥, hogy a tesztek konzisztensen futathat√≥k, gyorsan √©s egyszer&#369;en rekonstru√°lhat√≥k a teszthez sz√ºks√©ges k√∂rnyezetek.
                    Az ig√©nyelt adatb√°zis  tartalmat egy XML √°llom√°nyban lehet megadni, ahol t√∂bb teszt√°llapotot  is nyilv√°n lehet tartani.  A teszt ind√≠t√°sa el&#337;tt a DBUnittal
                    bet√∂lthet&#337; az ig√©nyelt √°llapot az adatb√°zisba. A DBUnit  rendszer el&#337;nyei a k√∂vetkez&#337; pontokban foglalhat√≥k √∂ssze:
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A tesztekhez ig√©nyelt  adatb√°zis tartalom hat√©kony kezel√©se</p></li><li class="listitem"><p>T√°mogat√°s az adatb√°zis tartalom XML √°llom√°nyba t√∂rt√©n&#337; kiment√©s√©hez illetve az XML √°llom√°nyb√≥l t√∂rt√©n&#337; visszat√∂lt√©s√©re</p></li><li class="listitem"><p>Lehet&#337;s√©get ad a let√°rolt adattartalmakban t√∂rt√©n&#337; keres√©sre,  az k√ºl√∂nb√∂z&#337; adatb√°zis √°llapotok √∂sszehasonl√≠t√°s√°ra</p></li></ul></div><p>
                    A DBUnit keretrendszer haszn√°lata, a tesztel√©s sor√°n az al√°bbi l√©p√©seket kell megtenni:
                    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Adatb√°zis √°llapotot tartalmaz√≥ XML √°llom√°ny el&#337;k√©sz√≠t√©se</p></li><li class="listitem"><p>Adatb√°zis aktu√°lis √°llapot√°nak kit√∂rl√©se</p></li><li class="listitem"><p>A lementett √°llapotokb√≥l a kiv√°lasztott  √°llapot bet√∂lt√©se XML-b&#337;l az adatb√°zisba.</p></li><li class="listitem"><p>Tesztek futatt√°sa</p></li><li class="listitem"><p>Tesztek ki√©rt√©kel√©se</p></li></ol></div><p>
                    
                    Az XML-ben t√°rolt adatok bet√∂lt√©s√©t a keretrendszer √°ltal tartalmazott  DatabaseTestCase oszt√°lyon kereszt√ºl, annak setUp() met√≥dus√°val v√©gezhetj√ºk el.                     
                </p><p>
    A k√∂vetkez&#337;kben egy mint√°t mutatunk be a DBUnit haszn√°lat√°ra. Az els&#337; l√©p√©s az adatokat le√≠r√≥ XML √°llom√°ny  (pl. input.xml) el&#337;√°ll√≠t√°sa.  Az XML √°llom√°ny szerkezete az adatb√°zis  
szerkezet√©t t√ºkr√∂zi. Az XML a konkr√©t adatmez&#337; tartalmakat is t√°rolja amint az al√°bbi p√©lda is mutatja
    
    </p><pre class="programlisting">
    
    &lt;?xml version='1.0' encoding='UTF-8'?&gt;
    &lt;dataset&gt;
        &lt;login id="1" empcode="E005" loginname="chandan" 
              password="chandan" loginenabled="y"/&gt;
        &lt;login id="2" empcode="E006" loginname="deepak" 
              password="deepak" loginenabled="n"/&gt;
        &lt;/dataset&gt;
    
    </pre><p>
    A k√∂vetkez&#337; l√©p√©sben a keretrendszer getConnection met√≥dus√°n kereszt√ºl kapcsolatot √©p√≠t√ºnk ki a c√©ladatb√°zishoz:
    </p><pre class="programlisting">
        
    // Provide a connection to the database
     
    protected IDatabaseConnection getConnection() throws Exception{
       Class driverClass = Class.forName("com.mysql.jdbc.Driver");
       Connection jdbcConnection = 
         DriverManager.getConnection("jdbc:mysql://localhost:
         3306/hrapptest", "root", "root");
       return new DatabaseConnection(jdbcConnection);
    }
    </pre><p>
    Az XML-ben t√°rolt adatokat bet√∂ltj√ºk az adatb√°zisba:
    </p><pre class="programlisting">
    // Load the data which will be inserted for the test
     
     protected IDataSet getDataSet() throws Exception{
       loadedDataSet = 
         new FlatXmlDataSet(this.getClass().getClassLoader().
           getResourceAsStream("input.xml"));
       return loadedDataSet;
    }
    </pre><p>
    Ezt k√∂vet&#337;en elind√≠that√≥k a bet√∂lt√∂tt tartalomhoz kapcsol√≥d√≥ adatb√°zis tesztek.     
    
</p></div><div class="sect2" title="10.4.2. TestComplete rendszer"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6046"></a>10.4.2. TestComplete rendszer</h3></div></div></div><p>A TestComplete keretrendszer egy √∂sszetett tesztk√∂rnyezetet biztos√≠t az adatb√°zis tesztel√©shez. A fizet&#337;s term√©k t√∂bb k√ºl√∂nb√∂z&#337; tesztfeladatot is t√°mogat</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Funkcion√°lis teszt: Az alkalmaz√°sok GUI fel√ºlet√©n kereszt√ºl c√©lja annak ellen&#337;rz√©se, hogy a k√©rt funkci√≥k val√≥ban j√≥l m&#369;k√∂dnek-e. A teszt t√°mogat√°s√°ra a TestComplete 
                    rendszer lehet&#337;s√©get ad a felhaszn√°l√≥i kezel&#337; parancsok (eg√©r, billenty&#369;zet) feljegyz√©s√©re √©s k√©s&#337;bbi visszaj√°tsz√°s√°ra. A lejegyzett  tev√©kenys√©gek k√©s&#337;bb k√∂zvetlen√ºl is szerkeszthet&#337;k 
                    √©s b&#337;v√≠thet&#337;k.  A tesztekhez ellen&#337;rz√©si pontok k√∂thet&#337;k, ahol a kijel√∂lt objektumok √©rt√©ke √∂sszehasonl√≠that√≥ a b√°zisk√©nt kijel√∂lt √©rt√©kekkel.</p><div class="figure"><a name="d0e6055"></a><p class="title"><b>10.3. √°bra - Felhaszn√°l√≥i GUI tev√©kenys√©gek napl√≥z√°sa</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="https://gyires.inf.unideb.hu/KMITT/c12/images\ss_functest_kteditor.gif" align="middle" alt="Felhaszn√°l√≥i GUI tev√©kenys√©gek napl√≥z√°sa"></div></div></div><br class="figure-break"></li><li class="listitem"><p>Parancsorient√°lt teszt: Ezen  teszt t√≠pus arra szolg√°l, hogy a fel√©p√≠ts√ºk a felhaszn√°l√≥ √°ltal elv√©gzend&#337; kezel√©si tev√©kenys√©gek m&#369;veletsor√°t. A tev√©kenys√©g
                        kijel√∂l√©se t√∂rt√©nhet grafikusan, egy eszk√∂zlist√°b√≥l v√°lasztva a tev√©kenys√©g elemet; illetve haszn√°lhatunk egy script nyelvet is. A tesztekhez ellen&#337;rz√©si pontok k√∂thet&#337;k, ahol a kijel√∂lt 
                        objektumok √©rt√©ke √∂sszehasonl√≠that√≥ a b√°zisk√©nt kijel√∂lt √©rt√©kekkel.</p></li><li class="listitem"><p>Egys√©g teszt: Az egyes oszt√°lyok tesztel√©s√©t  szolg√°l√≥ modul  </p></li><li class="listitem"><p>Regresszi√≥s teszt: A modul a regresszi√≥s tesztek menedzsel√©st, azok √ºtemez√©s√©t v√©gzi. A keretrendszer lehet&#337;s√©get ad az egyes tesztek eredm√©ny√©nek napl√≥z√°s√°ra
                    √©s az eredm√©nyeknek a b√°zisadatokkal t√∂rt√©n&#337; √∂sszehasonl√≠t√°s√°ra.
                    </p></li><li class="listitem"><p>Terhel√©s teszt: A keretrendszer egy kifinomult, hangolhat√≥ k√∂rnyezetet biztos√≠t a terhel√©si tesztek elv√©gz√©s√©re. A tesztekhez szimul√°lhat√≥ a terhel√©s m√©rt√©ke √©s jellege.
                    T√∂bbek k√∂z√∂tt be√°ll√≠that√≥ a szimul√°lt kliensek eloszl√°sa, a m&#369;k√∂d√©si param√©ter√ºk, a h√°l√≥zati kapcsolataik jellege, sebess√©ge. A tesztadatok napl√≥z√°s√°n kereszt√ºl elemezhet&#337; a
                    rendszer terhel√©si karakterisztik√°ja.
                     
                    </p></li><li class="listitem"><p>Adat-orient√°lt tesz: A keretrendszer lehet&#337;s√©get ad a teszthez sz√ºks√©ges bemen&#337; adatok hat√©kony gener√°l√°s√°ra. Egyr√©szt biztos√≠t egy vl√©letlen tesztadatsort
                    gener√°l√≥ mechanizmust, m√°sr√©szt  rugalmas bemen&#337; adatsor-forr√°s kijel&#337; mechanizmusa is van. </p></li></ul></div></div><div class="sect2" title="10.4.3. DTM DB Stress rendszer"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6076"></a>10.4.3. DTM DB Stress rendszer</h3></div></div></div><p>A DBSterss keretrendszer c√©lja az adatb√°zis terhel√©si tesztek elv√©gz√©√©snek √©s ki√©rt√©kel√©s√©nek a t√°mogat√°sa. A teszt v√©grehajt√°s l√©p√©sei a k√∂vetkez&#337; pontokb√≥l √°llnak:
                   </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Adatforr√°s kijel√∂l√©se: az elterjedt adatb√°zis csatol√≥k haszn√°lat√°val az adtforr√°soksz√©les k√∂re el√©rhet&#337;</p></li><li class="listitem"><p>⁄j √ºres teszt l√©trehoz√°sa</p></li><li class="listitem"><p>a v√©grehajtand√≥ SQL parancsok kijel√∂l√©se</p></li><li class="listitem"><p>a v√©grehajt√°s param√©tereinek megad√°sa (pl. ism√©tl√©ssz√°m, sz√°lak darabsz√°ma)</p></li><li class="listitem"><p>a tesztek futtat√°sa: A futtat√°sn√°l t√∂bb v√©grehajt√°si m√≥d is el√©rhet&#337;. A t√°mogatott √ºzemm√≥dok: soros, p√°rhuzamos √©s k√∂tegekbe rendezett v√©grehajt√°s. </p></li><li class="listitem"><p>eredm√©nyek √©rt√©kel√©se: a keretrendszer t√∂bb teljes√≠tm√©ny param√©ter is t√°mogat, grafikus √©s t√°bl√°zatos megjelen√≠t√©st szolg√°ltat a futtat√°si adatokr√≥l. A 
                       m√©rt param√©terek k√ºl√∂n jegyzik az egyes v√©grehajt√°si l√©p√©sek k√∂lts√©geit, mint p√©ld√°ul a kapcsolat ki√©p√≠t√©s ideje vagy parancs el&#337;k√©sz√≠t√©s ideje. </p></li></ul></div><p>
                        A rendszer k√ºl√∂n modulokat biztos√≠t a tesztadatok el&#337;√°ll√≠t√°sra is.
                    </p><div class="figure"><a name="d0e6101"></a><p class="title"><b>10.4. √°bra - A DTM DBStress keretrendszer GUI elemei</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="https://gyires.inf.unideb.hu/KMITT/c12/images\dtm_db_stress-157812-scr.gif" align="middle" alt="A DTM DBStress keretrendszer GUI elemei"></div></div></div><br class="figure-break"></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10s03.html">El&#337;z&#337;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch10.html">Fel</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch10s05.html">K√∂vetkez&#337;</a></td></tr><tr><td width="40%" align="left" valign="top">10.3. Adatb√°zis √∫jratervez√©s folyamata&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Tartalom</a></td><td width="40%" align="right" valign="top">&nbsp;10.5. K√©rd√©sek</td></tr></table></div></body></html>